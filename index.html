<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Telegram Mini App</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
    }

    #app {
      width: 100%;
      height: 100%;
      position: relative;
    }

    /* ‚ù§Ô∏è –°–µ—Ä–¥—Ü–µ (–∏–Ω—Ç—Ä–æ) */
    .heart {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 180px;
      height: 180px;
      transform: translate(-50%, -50%) scale(1);
      opacity: 0;
      animation: heartIntro 5s ease-in-out forwards;
      filter: drop-shadow(0 0 25px rgba(255, 80, 120, 0.8));
    }

    .heart svg {
      width: 100%;
      height: 100%;
    }

    @keyframes heartIntro {
      0% {
        transform: translate(-50%, -50%) scale(0.6);
        opacity: 0;
      }
      15% {
        opacity: 1;
      }
      50% {
        transform: translate(-50%, -50%) scale(1.05);
      }
      80% {
        transform: translate(-50%, -50%) scale(0.9);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -55%) scale(0.3);
        opacity: 0;
      }
    }

    /* üë§ –ê–≤–∞—Ç–∞—Ä —Å–≤–µ—Ä—Ö—É */
    .avatar-top {
      position: absolute;
      top: 18px;
      left: 50%;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      overflow: hidden;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.6s ease;
    }

    .avatar-top img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>

<body>
  <div id="app">

    <!-- ‚ù§Ô∏è –°–µ—Ä–¥—Ü–µ -->
    <div class="heart" id="heart">
      <svg viewBox="0 0 512 512">
        <path fill="#ff4d6d" d="
          M256 464
          S32 304 32 160
          C32 96 80 48 144 48
          C192 48 224 80 256 112
          C288 80 320 48 368 48
          C432 48 480 96 480 160
          C480 304 256 464 256 464
        "/>
      </svg>
    </div>

    <!-- üë§ –ê–≤–∞—Ç–∞—Ä -->
    <div class="avatar-top" id="avatar"></div>

  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const tg = Telegram.WebApp;
      tg.ready();

      const user = tg.initDataUnsafe?.user;
      if (!user || !user.photo_url) return;

      const avatar = document.getElementById("avatar");
      const img = document.createElement("img");
      img.src = user.photo_url;
      avatar.appendChild(img);

      // –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–µ—Ä–¥—Ü–∞ (5 —Å–µ–∫—É–Ω–¥)
      setTimeout(() => {
        avatar.style.opacity = "1";
      }, 5000);
    });
  </script>
</body>
</html>
